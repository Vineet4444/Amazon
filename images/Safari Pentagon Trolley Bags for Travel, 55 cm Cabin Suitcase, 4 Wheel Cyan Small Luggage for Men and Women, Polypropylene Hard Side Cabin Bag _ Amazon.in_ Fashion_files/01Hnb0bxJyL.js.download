(function(c){var e=window.AmazonUIPageJS||window.P,h=e._namespace||e.attributeErrors,f=h?h("DramAssets",""):e;f.guardFatal?f.guardFatal(c)(f,window):f.execute(function(){c(f,window)})})(function(c,e,h){c.when("jQuery","A").execute("dram-lazy-load",function(f,d){var m=e.ue&&e.ue.count||function(){},k=function(a){m(a,(m(a)||0)+1)},l=function(a,g){if(!a.hasAttribute("lazy-load-status")){g=null==g?"None":g;a.setAttribute("lazy-load-status","initiated");a.querySelector(".lazy-load-spinner").classList.add("lazy-load-spinner-animation");
var e=a.querySelector(".json-content").innerText.trim();d.post("/dram/renderLazyLoaded",{params:e,accepts:"application/json",contentType:"application/json",paramsFormat:"json",success:function(b){var c="";b&&b.cards&&0<b.cards.length&&b.cards[0].content&&(c=b.cards[0].content);f(a.querySelector(".widget-html-container")).html(c);d.trigger("a:pageUpdate");d.loadDynamicImage(a.querySelectorAll(".widget-html-container img.a-dynamic-image"));a.setAttribute("lazy-load-status","loaded");k("dram:lazy-loader:"+
g+":success")},error:function(b){f(a.querySelector(".widget-html-container")).html("");a.setAttribute("lazy-load-status","failed");0===b.readyState?(k("dram:lazy-loader:"+g+":warn"),c.log("Warning while processing lazy loading due to "+b.responseText,"WARN","LazyLoading")):(k("dram:lazy-loader:"+g+":error"),c.log("Error while processing lazy loading due to "+b.responseText,"ERROR","LazyLoading"))}})}};d.on("dram:register-lazy-load-widget",function(a,c,e){var b=document.querySelector(a);d.on(d.constants.BROWSER_EVENTS.SCROLL,
function(){d.onScreen(b,c)&&l(b,e)});d.on(d.constants.BROWSER_EVENTS.RESIZE,function(){d.onScreen(b,c)&&l(b,e)});d.on(d.constants.BROWSER_EVENTS.ORIENTATION_CHANGE,function(){d.onScreen(b,c)&&l(b,e)})});c.now("dram-lazy-load-widget").execute("dram-initalize-lazy-load",function(a){a===h&&c.declare("dram-lazy-load-widget",{lazyLoadInitiated:!0})})})});